{% extends "::base.html.twig" %}

{% block content %}
    {% trans_default_domain 'FOSUserBundle' %}
    <div class="fos_user_user_show">
        <div id="profile">
            {% if vich_uploader_asset(user, 'avatar') is not empty %}
                <img src="{{ vich_uploader_asset(user, 'avatar') }}" alt="{{ user.username }}" class="profile-img img-responsive" width="180" height="180"/>
            {% else %}
                <img src="{{ asset('images/avatar/uknow_user.png') }}" alt="unknow" class="profile-img img-responsive" width="180" height="180">
            {% endif %}
            <div class="profile-text">
                <a href="{{ path('fos_user_profile_edit') }}" class="profile-btn"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Modifier</a>
                <h1 class="profile-name">{{ user.username }}</h1>
                <h4 class="profile-title">{{ user.firstname }} • {{ user.birthdate|date("m-d-Y") }}</h4>
                <span class="profile-title">{{ user.description }}</span>
            </div>
            <div>
                {% if is_granted('ROLE_ADMIN') %}
                    <a href="{{ path('admin') }}" class="btn btn-block btn-warning">Accéder à l'administration du site</a>
                {% endif %}
            </div>
        </div>
    </div>

    <div class="panel">
        <div class="panel-heading"><h1>Mes oeuvres</h1></div>
        <div class="panel-body">
            <table class="table table-bordered table-responsive">
                <tr>
                    <th> Catégorie </th>
                    <th> Nom </th>
                    <th> Auteur </th>
                    <th> Editeur </th>
                    <th> Créée </th>
                    <th> Action </th>
                </tr>
                <tr>
                    {% for artwork in artworksUser %}
                        <td> {{ artwork.category.name | capitalize }} </td>
                        <td> {{ artwork.name | capitalize }} </td>
                        <td> {{ artwork.author | capitalize }} </td>
                        <td> {{ artwork.edithor | capitalize }} </td>
                        <td> {{ artwork.createdAt | date('d.m.Y à H:i:s') }} </td>
                        <td>
                            <ul>
                                <li>
                                    <a href="{{ path('artwork_show', { 'id': artwork.id }) }}">Voir</a>
                                </li>
                                <li>
                                    <a href="{{ path('artwork_edit', { 'id': artwork.id }) }}">Editer</a>
                                </li>
                            </ul>
                        </td>
                    {% endfor %}
                </tr>
            </table>
        </div>
        <div class="panel-footer">

        </div>
    </div>

{% endblock content %}

